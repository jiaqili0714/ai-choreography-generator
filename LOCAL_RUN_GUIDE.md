# 🚀 本地运行指南

## 🔧 权限问题已修复！

你的Streamlit权限问题已经解决。现在可以通过以下方式运行应用：

## 📋 运行方式

### 方式1: 使用修复脚本 (推荐)
```bash
python fix_streamlit_permissions.py
```

### 方式2: 使用启动脚本
```bash
./start_app.sh
```

### 方式3: 直接运行
```bash
python -m streamlit run app.py --server.port=8501
```

## 🎯 访问应用

应用启动后，在浏览器中访问：
- **本地地址**: http://localhost:8501
- **网络地址**: http://0.0.0.0:8501

## 🔑 使用步骤

1. **设置API密钥**: 在侧边栏输入你的OpenAI API密钥
2. **上传音频**: 选择MP3或WAV格式的音频文件
3. **生成编舞**: 点击"生成编舞"按钮
4. **查看结果**: 在音乐播放器中查看舞蹈建议

## 🎭 功能特点

- ✅ **专业音频分析**: 使用librosa进行高精度分析
- ✅ **结构化输出**: JSON格式的编舞数据
- ✅ **多样性控制**: 优化的LLM参数设置
- ✅ **Few-shot示例**: 专业示例学习
- ✅ **动作词库**: 6种风格的完整动作数据库
- ✅ **后处理增强**: 同义词替换和节奏占位
- ✅ **多语言支持**: 中英文界面
- ✅ **实时同步**: 音乐播放与舞蹈建议同步

## 🔧 故障排除

### 如果仍然遇到权限问题：
1. 确保在项目根目录运行
2. 检查.streamlit目录权限
3. 使用修复脚本重新设置

### 如果遇到依赖问题：
```bash
pip install -r requirements.txt
```

### 如果遇到API问题：
1. 确保OpenAI API密钥有效
2. 检查账户余额
3. 验证网络连接

## 🎉 完成！

现在你可以正常使用AI编舞生成器了！

**主要优势**:
- 🚀 本地运行，响应快速
- 🎭 完整的功能支持
- 🌐 多语言界面
- 💰 完全免费使用

让AI为你的音乐创作专属舞蹈！🎵💃
