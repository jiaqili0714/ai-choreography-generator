#!/usr/bin/env python3
"""
æµ‹è¯•ä¸“ä¸šç¼–èˆç”Ÿæˆå™¨
"""

def test_professional_prompt():
    """æµ‹è¯•ä¸“ä¸šæç¤ºè¯"""
    print("ğŸ­ æµ‹è¯•ä¸“ä¸šç¼–èˆç”Ÿæˆå™¨")
    print("=" * 50)
    
    # æ¨¡æ‹Ÿç‰‡æ®µæ•°æ®
    segment = {
        "start_time": 0.0,
        "end_time": 3.72,
        "duration": 3.72,
        "beat_count": 8
    }
    
    bpm = 129.2
    dance_style = "Hip-Hop"
    segment_index = 0
    
    # è®¡ç®—èŠ‚æ‹é—´éš”
    beat_interval = 60.0 / bpm
    segment_beats = segment['beat_count']
    
    print(f"ğŸ“Š ç‰‡æ®µä¿¡æ¯:")
    print(f"  - ç‰‡æ®µç¼–å·: {segment_index + 1}")
    print(f"  - æ—¶é—´èŒƒå›´: {segment['start_time']:.2f}s - {segment['end_time']:.2f}s")
    print(f"  - æŒç»­æ—¶é—´: {segment['duration']:.2f}s")
    print(f"  - BPM: {bpm}")
    print(f"  - èŠ‚æ‹é—´éš”: {beat_interval:.2f}ç§’")
    print(f"  - èˆè¹ˆé£æ ¼: {dance_style}")
    print(f"  - èŠ‚æ‹æ•°: {segment_beats}")
    
    print(f"\nğŸ¯ æ–°çš„æç¤ºè¯è¦æ±‚:")
    print(f"  1. èŠ‚æ‹åˆ†è§£: è¯¦ç»†æè¿°æ¯ä¸ªèŠ‚æ‹çš„å…·ä½“åŠ¨ä½œ")
    print(f"  2. èº«ä½“éƒ¨ä½: æ˜ç¡®å¤´éƒ¨ã€è‚©è†€ã€æ‰‹è‡‚ã€èº¯å¹²ã€è…¿éƒ¨ã€è„šéƒ¨çš„åŠ¨ä½œ")
    print(f"  3. æŠ€æœ¯è¦ç‚¹: é‡å¿ƒä½ç½®ã€èº«ä½“å§¿æ€ã€åŠ¨ä½œå¹…åº¦")
    print(f"  4. å¸¸è§é”™è¯¯: å®¹æ˜“çŠ¯çš„é”™è¯¯å’Œå¦‚ä½•é¿å…")
    print(f"  5. ç»ƒä¹ æ–¹æ³•: å…·ä½“çš„ç»ƒä¹ æ­¥éª¤å’ŒæŠ€å·§")
    
    print(f"\nğŸ“‹ æ–°çš„è¾“å‡ºå­—æ®µ:")
    fields = [
        "description - æ•´ä½“åŠ¨ä½œæè¿°",
        "beat_breakdown - è¯¦ç»†çš„èŠ‚æ‹åˆ†è§£",
        "body_parts - èº«ä½“éƒ¨ä½å’Œå…·ä½“åŠ¨ä½œ",
        "technical_points - æŠ€æœ¯è¦ç‚¹",
        "common_mistakes - å¸¸è§é”™è¯¯å’Œçº æ­£æ–¹æ³•",
        "practice_steps - å…·ä½“ç»ƒä¹ æ­¥éª¤",
        "reference_moves - å‚è€ƒçš„ç»å…¸åŠ¨ä½œåç§°åˆ—è¡¨",
        "difficulty - éš¾åº¦ç­‰çº§(1-5)",
        "energy_level - èƒ½é‡ç­‰çº§(1-5)",
        "key_moves - å…³é”®åŠ¨ä½œåˆ—è¡¨",
        "learning_tips - å…·ä½“çš„å­¦ä¹ å»ºè®®å’Œç»ƒä¹ æ–¹æ³•"
    ]
    
    for i, field in enumerate(fields, 1):
        print(f"  {i:2d}. {field}")
    
    print(f"\nâœ¨ æ”¹è¿›æ•ˆæœ:")
    print(f"  âœ… æ›´è¯¦ç»†çš„èŠ‚æ‹åˆ†è§£")
    print(f"  âœ… å…·ä½“çš„èº«ä½“éƒ¨ä½æŒ‡å¯¼")
    print(f"  âœ… ä¸“ä¸šçš„æŠ€æœ¯è¦ç‚¹")
    print(f"  âœ… å¸¸è§é”™è¯¯å’Œçº æ­£æ–¹æ³•")
    print(f"  âœ… å…·ä½“çš„ç»ƒä¹ æ­¥éª¤")
    print(f"  âœ… æ›´é«˜çš„tokené™åˆ¶(800)")
    print(f"  âœ… æ›´å¥½çš„ç”¨æˆ·ç•Œé¢(å¯æŠ˜å expander)")

def show_example_output():
    """æ˜¾ç¤ºç¤ºä¾‹è¾“å‡º"""
    print(f"\n" + "=" * 50)
    print("ğŸ“ ç¤ºä¾‹è¾“å‡ºå¯¹æ¯”")
    print("=" * 50)
    
    print("âŒ æ”¹è¿›å‰ (å¤ªåŸºç¡€):")
    old_output = {
        "description": "åœ¨è¿™ä¸ª8æ‹ç‰‡æ®µä¸­ï¼Œèˆè€…å¯ä»¥åˆ©ç”¨èŠ‚å¥æ„Ÿå’ŒåŠ¨æ„Ÿçš„éŸ³ä¹èŠ‚å¥ï¼Œä»¥Jackingä¸ºåŸºç¡€åŠ¨ä½œ...",
        "key_moves": ["Jacking", "Footwork variations", "Groove variations"],
        "learning_tips": "å»ºè®®èˆè€…åœ¨ç»ƒä¹ æ—¶å¤šåŠ å¼ºå¯¹èŠ‚å¥æ„Ÿçš„æŠŠæ¡..."
    }
    
    for key, value in old_output.items():
        print(f"  {key}: {value}")
    
    print(f"\nâœ… æ”¹è¿›å (æ›´ä¸“ä¸š):")
    new_output = {
        "description": "Houseé£æ ¼çš„8æ‹ç‰‡æ®µï¼Œä»¥JackingåŠ¨ä½œä¸ºåŸºç¡€ï¼Œç»“åˆè„šæ­¥å˜åŒ–å’Œèº«ä½“å¾‹åŠ¨",
        "beat_breakdown": "ç¬¬1æ‹ï¼šå³è„šå‰è¸ï¼Œé‡å¿ƒå‰ç§»ï¼Œå³è‡‚ä¸Šä¸¾ï¼›ç¬¬2æ‹ï¼šå·¦è„šåæ’¤ï¼Œé‡å¿ƒåç§»ï¼Œå·¦è‡‚ä¸‹æ‘†ï¼›ç¬¬3æ‹ï¼šå³è„šä¾§è¸ï¼Œèº«ä½“å³å€¾ï¼›ç¬¬4æ‹ï¼šå·¦è„šæ”¶å›ï¼Œèº«ä½“å›æ­£ï¼›ç¬¬5-8æ‹ï¼šé‡å¤åŠ¨ä½œï¼Œå¢åŠ æ‰‹è‡‚å˜åŒ–",
        "body_parts": "å¤´éƒ¨ï¼šä¿æŒè‡ªç„¶ï¼Œè·Ÿéšèº«ä½“å¾‹åŠ¨è½»å¾®æ‘†åŠ¨ï¼›è‚©è†€ï¼šæ”¾æ¾ï¼Œè·Ÿéšæ‰‹è‡‚åŠ¨ä½œè‡ªç„¶ç§»åŠ¨ï¼›æ‰‹è‡‚ï¼šç¬¬1æ‹å³è‡‚ä¸Šä¸¾ï¼Œç¬¬2æ‹å·¦è‡‚ä¸‹æ‘†ï¼Œç¬¬3-4æ‹åŒè‡‚åè°ƒï¼›èº¯å¹²ï¼šä¿æŒç›´ç«‹ï¼Œæ ¸å¿ƒæ”¶ç´§ï¼Œè·Ÿéšè„šæ­¥é‡å¿ƒè½¬ç§»ï¼›è…¿éƒ¨ï¼šè†ç›–å¾®å¼¯ï¼Œä¿æŒå¼¹æ€§ï¼Œè„šæ­¥æ¸…æ™°ï¼›è„šéƒ¨ï¼šå‰è„šæŒç€åœ°ï¼Œä¿æŒè½»å¿«",
        "technical_points": "é‡å¿ƒä¿æŒåœ¨ä¸¤è„šä¹‹é—´ï¼Œè†ç›–å§‹ç»ˆä¿æŒå¾®å¼¯çŠ¶æ€ï¼Œæ ¸å¿ƒè‚Œç¾¤æ”¶ç´§ä¿æŒèº«ä½“ç¨³å®šï¼Œæ‰‹è‡‚åŠ¨ä½œè¦è‡ªç„¶æµç•…ï¼Œä¸è¦åƒµç¡¬",
        "common_mistakes": "1.é‡å¿ƒè¿‡äºå‰å€¾æˆ–åå€¾ 2.è†ç›–è¿‡ç›´å¯¼è‡´åŠ¨ä½œåƒµç¡¬ 3.æ‰‹è‡‚åŠ¨ä½œä¸åè°ƒ 4.è„šæ­¥ä¸æ¸…æ™°",
        "practice_steps": "1.å…ˆç»ƒä¹ è„šæ­¥ï¼Œä¸åŠ å…¥æ‰‹è‡‚åŠ¨ä½œ 2.æŒæ¡é‡å¿ƒè½¬ç§» 3.åŠ å…¥æ‰‹è‡‚åŠ¨ä½œ 4.é…åˆéŸ³ä¹ç»ƒä¹  5.æ³¨æ„åŠ¨ä½œçš„æµç•…æ€§",
        "reference_moves": ["House Jacking", "House Footwork"],
        "difficulty": 3,
        "energy_level": 4,
        "key_moves": ["Jacking", "Footwork", "Groove"],
        "learning_tips": "å»ºè®®ä»æ…¢é€Ÿå¼€å§‹ç»ƒä¹ ï¼Œå…ˆæŒæ¡åŸºæœ¬è„šæ­¥ï¼Œå†é€æ­¥åŠ å…¥æ‰‹è‡‚åŠ¨ä½œã€‚æ³¨æ„ä¿æŒèº«ä½“çš„å¾‹åŠ¨æ„Ÿï¼Œä¸è¦è¿‡äºåƒµç¡¬ã€‚å¯ä»¥å¯¹ç€é•œå­ç»ƒä¹ ï¼Œè§‚å¯Ÿè‡ªå·±çš„åŠ¨ä½œæ˜¯å¦æµç•…è‡ªç„¶ã€‚"
    }
    
    for key, value in new_output.items():
        if key in ["difficulty", "energy_level"]:
            print(f"  {key}: {value}")
        else:
            print(f"  {key}: {value[:100]}{'...' if len(str(value)) > 100 else ''}")

def main():
    """ä¸»å‡½æ•°"""
    test_professional_prompt()
    show_example_output()
    
    print(f"\n" + "=" * 50)
    print("ğŸ‰ ä¸“ä¸šç¼–èˆç”Ÿæˆå™¨æ”¹è¿›å®Œæˆï¼")
    print("=" * 50)
    print("ğŸš€ ç°åœ¨å¯ä»¥ç”Ÿæˆæ›´ä¸“ä¸šã€æ›´å…·ä½“çš„èˆè¹ˆå»ºè®®äº†ï¼")
    print("ğŸ’¡ å¯åŠ¨å‘½ä»¤: streamlit run app.py")

if __name__ == "__main__":
    main()
