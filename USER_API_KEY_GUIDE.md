# 🔑 用户自输入API密钥部署指南

## 🎯 新的部署方式

现在用户需要自己输入API密钥，这样更安全，每个人使用自己的API密钥。

## 🚀 部署步骤

### 步骤1: 访问Streamlit Cloud
1. 打开: https://share.streamlit.io
2. 找到你的应用: `ai-choreography-generator`
3. 点击应用名称

### 步骤2: 重新部署（无需设置Secrets）
1. 点击 "⚙️ Settings"
2. **不需要**在Secrets中添加任何内容
3. 直接点击 "Deploy" 或等待自动部署

### 步骤3: 用户使用流程
1. 用户访问应用
2. 在侧边栏输入自己的OpenAI API密钥
3. 上传音频文件并生成编舞

## 🔑 用户如何获取API密钥

### 详细步骤：
1. **访问OpenAI平台**: https://platform.openai.com/api-keys
2. **登录账户**: 使用OpenAI账户登录
3. **创建密钥**: 点击 "Create new secret key"
4. **设置名称**: 给密钥起个名字，比如 "AI Choreography Generator"
5. **复制密钥**: 复制生成的密钥（以sk-开头）
6. **粘贴使用**: 在应用中粘贴密钥

### 注意事项：
- ✅ API密钥以 `sk-` 开头
- ✅ 密钥只显示一次，请妥善保存
- ✅ 确保账户有足够余额
- ✅ 密钥只在当前会话中有效

## 💰 成本说明

### 用户承担成本：
- ✅ 每个用户使用自己的API密钥
- ✅ 用户自己承担API调用费用
- ✅ 你不需要承担任何费用
- ✅ 更公平的使用模式

### OpenAI API定价：
- **GPT-3.5-turbo**: 相对便宜
- **按token计费**: 根据实际使用量收费
- **新用户**: 通常有免费额度

## 🛡️ 安全优势

### 相比之前的方案：
- ✅ **更安全**: 用户密钥不会存储在服务器上
- ✅ **更公平**: 每个用户使用自己的配额
- ✅ **更透明**: 用户知道自己的使用量
- ✅ **更灵活**: 用户可以选择是否使用

### 隐私保护：
- ✅ 用户密钥只在浏览器会话中有效
- ✅ 不会保存到服务器或数据库
- ✅ 刷新页面后需要重新输入
- ✅ 完全的用户控制

## 🎯 用户体验

### 首次使用：
1. 访问应用
2. 看到侧边栏的API密钥输入框
3. 点击帮助按钮了解如何获取密钥
4. 输入密钥后开始使用

### 后续使用：
1. 每次访问需要重新输入密钥
2. 或者可以保存到浏览器密码管理器
3. 密钥只在当前会话中有效

## 📱 应用功能

### 核心功能保持不变：
- 🎵 音频文件上传和分析
- 🎭 AI生成舞蹈建议
- 🎬 YouTube搜索链接
- ⏰ 音乐播放器同步
- 📝 详细的编舞指导

### 新增功能：
- 🔑 用户自输入API密钥
- 📖 内置API密钥获取指南
- 🛡️ 更好的隐私保护

## 🎉 完成！

现在你的AI编舞生成器：
- ✅ 不需要在Streamlit Cloud中设置Secrets
- ✅ 用户使用自己的API密钥
- ✅ 更安全、更公平的使用模式
- ✅ 你不需要承担任何API费用

**应用URL**: `https://ai-choreography-generator.streamlit.app/`

让每个用户都能安全地使用AI编舞生成器！🎵💃
